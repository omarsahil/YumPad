"use strict";(()=>{var e={};e.id=669,e.ids=[669],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8893:e=>{e.exports=require("buffer")},6162:e=>{e.exports=require("worker_threads")},2254:e=>{e.exports=require("node:buffer")},7561:e=>{e.exports=require("node:fs")},8849:e=>{e.exports=require("node:http")},2286:e=>{e.exports=require("node:https")},7503:e=>{e.exports=require("node:net")},9411:e=>{e.exports=require("node:path")},7742:e=>{e.exports=require("node:process")},4492:e=>{e.exports=require("node:stream")},2477:e=>{e.exports=require("node:stream/web")},1041:e=>{e.exports=require("node:url")},7261:e=>{e.exports=require("node:util")},5628:e=>{e.exports=require("node:zlib")},1133:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>h,patchFetch:()=>g,requestAsyncStorage:()=>u,routeModule:()=>p,serverHooks:()=>m,staticGenerationAsyncStorage:()=>d});var a={};t.r(a),t.d(a,{GET:()=>l});var i=t(9303),o=t(8716),s=t(670),n=t(7070),c=t(5708);async function l(e){try{let e=await c.x.getRandomRecipe();if(!e)throw Error("No random recipe found");let r=c.x.convertToInternalFormat(e);return n.NextResponse.json({recipe:r})}catch(e){return console.error("Error fetching random recipe from MealDB:",e),n.NextResponse.json({recipe:{id:"mock-random",title:"Classic Spaghetti Carbonara",description:"A timeless Roman pasta dish featuring silky eggs, crispy pancetta, and aged Pecorino Romano cheese. This authentic recipe delivers restaurant-quality results in your home kitchen.",image:"https://images.unsplash.com/photo-1588315029754-2dd089d39a1a?q=80&w=1974&auto=format&fit=crop",category:"Dinner",dietary:[],prepTime:"10 mins",cookTime:"15 mins",servings:"4",rating:4.8,reviews:125,ingredients:["400g spaghetti","200g pancetta or guanciale, diced","4 large free-range eggs","100g Pecorino Romano cheese, grated","Freshly ground black pepper","Sea salt"],instructions:["Bring a large pot of salted water to boil and cook spaghetti according to package directions.","While pasta cooks, heat a large skillet over medium heat and cook pancetta until crispy, about 5-7 minutes.","In a bowl, whisk together eggs, grated Pecorino, and plenty of black pepper.","Reserve 1 cup pasta water, then drain pasta.","Immediately add hot pasta to the skillet with pancetta, tossing to combine.","Remove from heat and quickly stir in egg mixture, adding pasta water gradually until creamy.","Serve immediately with extra cheese and black pepper."]}})}}let p=new i.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/recipes/random/route",pathname:"/api/recipes/random",filename:"route",bundlePath:"app/api/recipes/random/route"},resolvedPagePath:"C:\\Users\\mdoma\\Desktop\\recipe\\app\\api\\recipes\\random\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:u,staticGenerationAsyncStorage:d,serverHooks:m}=p,h="/api/recipes/random/route";function g(){return(0,s.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:d})}},5708:(e,r,t)=>{t.d(r,{x:()=>o});var a=t(550);let i="https://www.themealdb.com/api/json/v1/1";class o{static async searchByName(e){try{let r=await (0,a.ZP)(`${i}/search.php?s=${encodeURIComponent(e)}`);if(!r.ok)throw Error("Failed to fetch recipes");let t=await r.json();return t&&Array.isArray(t.meals)?t.meals:[]}catch(e){return console.error("Error searching recipes by name:",e),[]}}static async getRandomRecipe(){try{let e=await (0,a.ZP)(`${i}/random.php`);if(!e.ok)throw Error("Failed to fetch random recipe");let r=await e.json();return r&&Array.isArray(r.meals)&&r.meals[0]?r.meals[0]:null}catch(e){return console.error("Error fetching random recipe:",e),null}}static async getMultipleRandomRecipes(e=8){try{let r=Array(e).fill(null).map(()=>this.getRandomRecipe());return(await Promise.all(r)).filter(e=>null!==e)}catch(e){return console.error("Error fetching multiple random recipes:",e),[]}}static async getRecipeById(e){try{let r=await (0,a.ZP)(`${i}/lookup.php?i=${e}`);if(!r.ok)throw Error("Failed to fetch recipe");let t=await r.json();return t&&Array.isArray(t.meals)&&t.meals[0]?t.meals[0]:null}catch(e){return console.error("Error fetching recipe by ID:",e),null}}static async getRecipesByCategory(e){try{let r=await (0,a.ZP)(`${i}/filter.php?c=${encodeURIComponent(e)}`);if(!r.ok)throw Error("Failed to fetch recipes by category");let t=await r.json();if(!t||!Array.isArray(t.meals))return[];return(await Promise.all(t.meals.slice(0,12).map(e=>this.getRecipeById(e.idMeal)))).filter(e=>null!==e)}catch(e){return console.error("Error fetching recipes by category:",e),[]}}static async getRecipesByArea(e){try{let r=await (0,a.ZP)(`${i}/filter.php?a=${encodeURIComponent(e)}`);if(!r.ok)throw Error("Failed to fetch recipes by area");let t=await r.json();if(!t||!Array.isArray(t.meals))return[];return(await Promise.all(t.meals.slice(0,12).map(e=>this.getRecipeById(e.idMeal)))).filter(e=>null!==e)}catch(e){return console.error("Error fetching recipes by area:",e),[]}}static async getCategories(){try{let e=await (0,a.ZP)(`${i}/categories.php`);if(!e.ok)throw Error("Failed to fetch categories");let r=await e.json();return r&&Array.isArray(r.categories)?r.categories:[]}catch(e){return console.error("Error fetching categories:",e),[]}}static convertToInternalFormat(e){let r=[];for(let t=1;t<=20;t++){let a=e[`strIngredient${t}`],i=e[`strMeasure${t}`];if(a&&a.trim()){let e=i&&i.trim()?`${i.trim()} ${a.trim()}`:a.trim();r.push(e)}}let t=e.strInstructions.split(/\r\n|\r|\n/).filter(e=>e.trim().length>0).map(e=>e.trim()),a=e.strTags?e.strTags.split(",").map(e=>e.trim()):[],i=[],o=r.join(" ").toLowerCase();e.strInstructions.toLowerCase(),o.includes("meat")||o.includes("chicken")||o.includes("beef")||o.includes("pork")||o.includes("fish")||o.includes("seafood")||i.push("vegetarian"),a.some(e=>e.toLowerCase().includes("vegan"))&&i.push("vegan");let s=e.strInstructions.length>150?e.strInstructions.substring(0,150)+"...":e.strInstructions;return{id:e.idMeal,title:e.strMeal,description:s,image:e.strMealThumb,category:e.strCategory,dietary:i,prepTime:"15 mins",cookTime:"30 mins",servings:"4",rating:Math.round((2*Math.random()+3.5)*10)/10,reviews:Math.floor(200*Math.random())+50,ingredients:r,instructions:t,cuisine:e.strArea,tags:a}}}}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[510,407],()=>t(1133));module.exports=a})();