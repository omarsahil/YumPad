"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[196],{4196:function(e,t,l){l.d(t,{default:function(){return p}});var s=l(7437),a=l(2265),r=l(7648),i=l(5588),n=l(5317),o=l(2489),c=l(8293),d=l(429),m=l(5095),x=l(257);function h(e){let{open:t,onClose:l,onGetPremium:a}=e;return t?(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl max-w-lg w-full p-8 relative",children:[(0,s.jsx)("button",{onClick:l,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-700 text-2xl font-bold",children:"\xd7"}),(0,s.jsx)("h2",{className:"text-3xl font-bold mb-6 text-center text-emerald-700",children:"YumPad Pricing"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[(0,s.jsxs)("div",{className:"bg-gray-100 rounded-xl p-4 text-center",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Free"}),(0,s.jsxs)("ul",{className:"text-gray-600 text-sm space-y-2",children:[(0,s.jsx)("li",{children:"✔️ Access to basic recipes"}),(0,s.jsx)("li",{children:"✔️ Search & filter recipes"}),(0,s.jsx)("li",{children:"✔️ Save favorites"}),(0,s.jsx)("li",{children:"❌ No meal planner"}),(0,s.jsx)("li",{children:"❌ No exclusive recipes"}),(0,s.jsx)("li",{children:"❌ No daily premium picks"})]}),(0,s.jsx)("div",{className:"mt-4 text-lg font-bold text-gray-500",children:"Free"})]}),(0,s.jsxs)("div",{className:"bg-yellow-100 rounded-xl p-4 text-center border-2 border-yellow-400",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold mb-2 text-yellow-700",children:"Premium"}),(0,s.jsxs)("ul",{className:"text-gray-700 text-sm space-y-2",children:[(0,s.jsx)("li",{children:"✔️ All Free features"}),(0,s.jsx)("li",{children:"✔️ Meal planner"}),(0,s.jsx)("li",{children:"✔️ Exclusive premium recipes"}),(0,s.jsx)("li",{children:"✔️ Daily premium picks"}),(0,s.jsx)("li",{children:"✔️ Priority support"})]}),(0,s.jsx)("div",{className:"mt-4 text-lg font-bold text-yellow-700",children:"₹499/month"})]})]}),(0,s.jsx)("button",{className:"w-full btn-primary bg-yellow-400 hover:bg-yellow-500 text-white font-bold py-3 rounded-xl text-lg transition-colors",onClick:a,children:"Get Premium"})]})}):null}function p(){var e;let[t,l]=(0,a.useState)(!1),[p,u]=(0,a.useState)(!1),{isSignedIn:f,user:y}=(0,i.aF)(),[b,j]=(0,a.useState)(!1);(0,a.useEffect)(()=>{if(!window.Razorpay){let e=document.createElement("script");e.src="https://checkout.razorpay.com/v1/checkout.js",e.async=!0,document.body.appendChild(e)}},[]);let w=y&&(null===(e=y.publicMetadata)||void 0===e?void 0:e.isPremium),g=async()=>{try{var e;let t;let l=await fetch("/api/razorpay/order",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:499,currency:"INR",userId:null==y?void 0:y.id})});if(!l.ok){let e=await l.text();alert("Error creating order: "+e);return}try{t=await l.json()}catch(t){let e=await l.text();alert("Unexpected response from server: "+e);return}if(!t||!t.id){alert("Failed to create Razorpay order.");return}let s={key:x.env.NEXT_PUBLIC_RAZORPAY_KEY_ID,amount:t.amount,currency:t.currency,order_id:t.id,name:"YumPad Premium",description:"Upgrade to premium",handler:function(e){alert("Payment successful! Welcome to Premium."),window.location.reload()},prefill:{email:null==y?void 0:null===(e=y.primaryEmailAddress)||void 0===e?void 0:e.emailAddress},theme:{color:"#10b981"}};new window.Razorpay(s).open()}catch(e){alert("An error occurred while starting payment: "+e)}};(0,a.useEffect)(()=>{let e=()=>{u(window.scrollY>20)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]);let v=[{href:"/",label:"Home"},{href:"/recipes",label:"Recipes"},{href:"/meal-planner",label:"Meal Planner"},{href:"/favorites",label:"Favorites"}];return(0,s.jsxs)(d.E.header,{initial:{y:-100},animate:{y:0},className:"fixed top-0 left-0 right-0 z-50 transition-all duration-300 bg-gradient-to-r from-emerald-600 to-emerald-800",children:[(0,s.jsxs)("nav",{className:"container mx-auto px-2 sm:px-4 lg:px-8 py-3 sm:py-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)(r.default,{href:"/",className:"flex items-center space-x-2 group",children:[(0,s.jsx)(d.E.div,{whileHover:{rotate:360},transition:{duration:.5},className:"p-2 bg-emerald-600 rounded-xl",children:(0,s.jsx)(n.Z,{className:"w-6 h-6 text-white"})}),(0,s.jsx)("span",{className:"text-xl sm:text-2xl font-playfair font-bold text-white group-hover:text-yellow-300 transition-colors",children:"YumPad"})]}),(0,s.jsx)("div",{className:"hidden lg:flex items-center space-x-6 sm:space-x-8",children:v.map(e=>(0,s.jsxs)(r.default,{href:e.href,className:"text-white hover:text-emerald-200 font-medium transition-colors relative group text-base sm:text-lg",children:[e.label,(0,s.jsx)("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-emerald-600 transition-all group-hover:w-full"})]},e.href))}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[w?(0,s.jsx)("span",{className:"px-3 sm:px-4 py-1 sm:py-2 rounded-lg font-semibold text-white bg-yellow-500 shadow text-xs sm:text-sm mr-1 sm:mr-2",children:"Premium"}):(0,s.jsx)("button",{className:"btn-primary px-3 sm:px-4 py-1 sm:py-2 rounded-lg font-semibold text-white bg-yellow-400 hover:bg-yellow-500 transition-colors shadow text-xs sm:text-sm mr-1 sm:mr-2",onClick:()=>j(!0),children:"Go Premium"}),f?(0,s.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[(0,s.jsxs)("span",{className:"hidden sm:block text-xs sm:text-sm text-white",children:["Welcome, ",(null==y?void 0:y.firstName)||"Chef","!"]}),(0,s.jsx)(i.l8,{afterSignOutUrl:"/",appearance:{elements:{avatarBox:"w-8 h-8 sm:w-10 sm:h-10 rounded-full ring-2 ring-emerald-200 hover:ring-emerald-400 transition-all"}}})]}):(0,s.jsxs)("div",{className:"hidden sm:flex items-center space-x-2 sm:space-x-3",children:[(0,s.jsx)(i.$d,{mode:"modal",children:(0,s.jsx)(d.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"text-gray-700 hover:text-emerald-600 font-medium transition-colors text-xs sm:text-base",children:"Sign In"})}),(0,s.jsx)(i.gX,{mode:"modal",children:(0,s.jsx)(d.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"btn-primary text-xs sm:text-base",children:"Get Started"})})]}),(0,s.jsx)(d.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(!t),className:"lg:hidden p-2 text-gray-700 hover:text-emerald-200 transition-colors","aria-label":"Toggle menu",children:t?(0,s.jsx)(o.Z,{className:"w-6 h-6"}):(0,s.jsx)(c.Z,{className:"w-6 h-6"})})]})]}),(0,s.jsx)(m.M,{children:t&&(0,s.jsx)(d.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"lg:hidden mt-2 py-2 border-t border-gray-200",children:(0,s.jsxs)("div",{className:"flex flex-col space-y-2 sm:space-y-4",children:[v.map((e,t)=>(0,s.jsx)(d.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*t},children:(0,s.jsx)(r.default,{href:e.href,onClick:()=>l(!1),className:"block py-2 text-white hover:text-emerald-200 font-medium transition-colors text-base",children:e.label})},e.href)),!f&&(0,s.jsxs)(d.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},className:"flex flex-col space-y-2 pt-2 border-t border-gray-200",children:[(0,s.jsx)(i.$d,{mode:"modal",children:(0,s.jsx)("button",{className:"btn-secondary w-full text-xs sm:text-base",children:"Sign In"})}),(0,s.jsx)(i.gX,{mode:"modal",children:(0,s.jsx)("button",{className:"btn-primary w-full text-xs sm:text-base",children:"Get Started"})})]})]})})})]}),(0,s.jsx)(h,{open:b,onClose:()=>j(!1),onGetPremium:()=>{j(!1),g()}})]})}}}]);